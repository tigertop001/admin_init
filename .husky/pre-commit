. "$(dirname "$0")/common.sh"

[ -n "$CI" ] && exit 0

PATH="/usr/local/bin:$PATH"

# Perform lint check on files in the staging area through .lintstagedrc configuration
pnpm exec lint-staged

# 检查暂存区中是否有 -lock.yaml 文件
if git diff --cached --name-only | grep -q '\pnpm-lock.yaml'; then
  echo "Error: The pnpm-lock.yaml file cannot be committed!"
  exit 1
fi